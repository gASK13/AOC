def sort_step(s):
    sn = []
    a = s.pop(0)
    xs = False
    for b in s:
        if b > a:
            sn.append(b)
            xs = True
        else:
            sn.append(a)
            a = b
    sn.append(a)
    return sn, xs


s0 = [6142, 3291, 2270, 3551, 6243, 7724, 8606, 4149, 5014, 4268, 9066, 8617, 474, 9494, 3624, 933, 645, 8505, 364, 1643, 9447, 8181, 3920, 95, 9224, 1056, 5457, 6781, 2362, 2203, 2164, 3543, 4309, 3842, 8826, 7245, 8414, 5958, 8188, 110, 7505, 767, 1239, 9936, 1807, 5936, 4265, 1283, 1809, 4109, 8173, 385, 3587, 3021, 4424, 3142, 7236, 6781, 1615, 9553, 9174, 487, 5263, 8490, 4877, 7397, 1572, 2781, 724, 7087, 1957, 2396, 4361, 7509, 630, 3489, 7917, 1716, 2592, 7872, 5372, 8575, 4031, 8051, 4352, 5790, 9023, 9786, 1147, 1335, 8212, 9615, 4144, 2025, 4572, 4593, 5030, 3448, 9823, 4746, 9209, 5195, 208, 8618, 9927, 8093, 6367, 4333, 5895, 8710, 4486, 911, 7895, 1137, 1585, 8978, 4112, 6266, 9370, 5106, 7721, 5788, 1700, 4571, 1129, 2265, 3188]

# send is 127
# each sort step is 127
cnt = 0
p1 = True
while s0 != sorted(s0):
    s0, brk = sort_step(s0)
    if p1:
        cnt += 127
    p1 = not p1
    print(s0)
    if not brk:
        break

print(cnt)
# this is another way to do it :D

